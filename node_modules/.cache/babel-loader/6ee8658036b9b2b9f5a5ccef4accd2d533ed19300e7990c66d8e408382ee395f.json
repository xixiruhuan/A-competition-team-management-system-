{"ast":null,"code":"export default {\n  name: \"Team\",\n  data() {\n    return {\n      activeNames: [],\n      tableData: [],\n      dialogFormVisible: false,\n      form: {},\n      total: 0,\n      pageNum: 1,\n      pageSize: 5,\n      teamname: \"\",\n      chart: null,\n      // echarts图表实例\n      options: [],\n      viewDialogVis: false,\n      optionsteacher: []\n    };\n  },\n  created() {\n    //请求分页数据\n    this.load();\n    this.getOptions();\n    this.getOptionsteacher();\n  },\n  methods: {\n    handleChange(val) {\n      console.log(val);\n    },\n    load() {\n      this.request.get(\"http://localhost:9090/team/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          teamname: this.teamname\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data;\n        this.total = res.total;\n      });\n    },\n    //获取下拉框中内容\n    getOptions() {\n      this.request.get(\"http://localhost:9090/team/stu\").then(res => {\n        //请求返回的数据\n        //赋值\n        this.options = res;\n        console.log(res);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getOptionsteacher() {\n      this.request.get(\"http://localhost:9090/team/teacher\").then(res => {\n        //请求返回的数据\n        //赋值\n        this.optionsteacher = res;\n        console.log(res);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    handleAdd() {\n      this.dialogFormVisible = true;\n      this.form = {};\n    },\n    handleUpdate(row) {\n      this.dialogFormVisible = true;\n      this.form = row;\n    },\n    save() {\n      this.request.post(\"http://localhost:9090/team\", this.form).then(res => {\n        if (res) {\n          this.$message.success(\"保存成功\");\n          this.dialogFormVisible = false;\n          this.load();\n        } else {\n          this.$message.error(\"保存失败\");\n        }\n      });\n    },\n    del(id) {\n      this.request.delete(\"http://localhost:9090/team/\" + id).then(res => {\n        if (res) {\n          this.$message.success(\"删除成功\");\n          this.dialogFormVisible = false;\n          this.load();\n        } else {\n          this.$message.error(\"删除失败\");\n        }\n      });\n    },\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n    exp() {\n      window.open(\"http://localhost:9090/user/export\");\n    },\n    open() {\n      this.$nextTick(() => {\n        //  执行echarts方法\n        this.initCharts();\n      });\n    },\n    view(row) {\n      this.viewDialogVis = true;\n    }\n  }\n};","map":{"version":3,"names":["name","data","activeNames","tableData","dialogFormVisible","form","total","pageNum","pageSize","teamname","chart","options","viewDialogVis","optionsteacher","created","load","getOptions","getOptionsteacher","methods","handleChange","val","console","log","request","get","params","then","res","catch","error","handleAdd","handleUpdate","row","save","post","$message","success","del","id","delete","handleSizeChange","handleCurrentChange","exp","window","open","$nextTick","initCharts","view"],"sources":["src/views/Team.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-input style=\"width: 200px;margin-left: 5px\" placeholder=\"请输入队名\" suffix-icon=\"el-icon-search\" v-model=\"teamname\">\r\n            </el-input>\r\n\r\n            <el-button style=\"margin-left: 5px\" type=\"pimary\"@click=\"load\">搜索</el-button>\r\n        </div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-button type=\"primary\"@click=\"handleAdd\">新增<i class=\"el-icon-circle-plus-outline\"></i></el-button>\r\n            <el-upload action=\"https://jsonplaceholder.typicode.com/posts/\" :show-file-list=\"false\" accept=\"xlsx\" style=\"display: inline-block\">\r\n                <el-button type=\"primary\"style=\"margin-left: 10px\">导入<i class=\"el-icon-download\"></i></el-button>\r\n            </el-upload>\r\n            <el-button type=\"primary\" @click=\"exp\" style=\"margin-left: 10px\">导出<i class=\"el-icon-upload2\"></i></el-button>\r\n        </div>\r\n        <el-table :data=\"tableData\" border stripe>\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"40\"></el-table-column>\r\n            <el-table-column prop=\"teamname\" label=\"队名\" width=\"140\"></el-table-column>\r\n            <el-table-column prop=\"stu1\" label=\"队员1\" width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"stu2\" label=\"队员2\" width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"stu3\" label=\"队员3\" width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"coach\" label=\"带队老师\" ></el-table-column>\r\n            <el-table-column prop=\"do\" label=\"操作\">\r\n                <template slot-scope=\"scope\" >\r\n                    <el-button type=\"success\" @click=\"handleUpdate(scope.row)\">编辑</el-button>\r\n                    <el-popconfirm\r\n                            style=\"margin-left:8px \"\r\n                            confirm-button-text='好的'\r\n                            cancel-button-text='不用了'\r\n                            icon=\"el-icon-info\"\r\n                            icon-color=\"red\"\r\n                            title=\"这是一段内容确定删除吗？\"\r\n                            @confirm=\"del(scope.row.id)\"\r\n                    >\r\n                        <el-button type=\"danger\"slot=\"reference\">删除</el-button>\r\n                        <el-button style=\"margin-left: 8px\" type=\"primary\" @click=\"view(scope.row)\" slot=\"reference\">赛绩</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div style=\"padding: 10px 0\">\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"pageNum\"\r\n                    :page-sizes=\"[5, 10, 15, 20]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n\r\n        </div>\r\n\r\n        <el-dialog title=\"队伍配置\" :visible.sync=\"dialogFormVisible\" width=\"30%\" >\r\n            <el-form label-width=\"80px\" size=\"small\">\r\n                <el-form-item label=\"队名\">\r\n                    <el-input style=\"width: 205px\" v-model=\"form.teamname\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"队员1\">\r\n                    <el-select @change=\"getOptions\" v-model=\"form.stu1\" filterable placeholder=\"请选择\">\r\n                        <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item\"\r\n                                :label=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"队员2\">\r\n                    <el-select @change=\"getOptions\" v-model=\"form.stu2\" filterable placeholder=\"请选择\">\r\n                        <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"队员3\">\r\n                    <el-select @change=\"getOptions\" v-model=\"form.stu3\" filterable placeholder=\"请选择\">\r\n                        <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"带队老师\">\r\n                    <el-select @change=\" getOptionsteacher\" v-model=\"form.coach\" filterable placeholder=\"请选择\">\r\n                        <el-option\r\n                                v-for=\"item in optionsteacher\"\r\n                                :key=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <el-dialog  @open=\"open()\" title=\"队伍赛绩\" :visible.sync=\"viewDialogVis\" width=\"60%\" >\r\n\r\n            <el-collapse v-model=\"activeNames\" @change=\"handleChange\">\r\n                <el-collapse-item title=\"ICPC国际大学生程序设计竞赛\" name=\"1\">\r\n                    <div>2019-11: 队伍获得ICPC国际大学生程序设计竞赛珠海赛区铜奖</div>\r\n                    <div>2020-7: 队伍获得ICPC国际大学生程序设计竞赛澳门赛区银奖</div>\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"CCPC中国大学生程序设计竞赛\" name=\"2\">\r\n                    <div>2020-4:队伍获得CCPC国际大学生程序设计竞赛广州赛区银奖</div>\r\n                    <div>2021-9: 队伍获得CCPC国际大学生程序设计竞赛昆明赛区银奖</div>\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"GXCPC广西大学生程序设计竞赛\" name=\"3\">\r\n                    <div>2019-6: 队伍获得GXCPC广西大学生程序设计竞赛银奖</div>\r\n                    <div>2020-6: 队伍获得GXCPC广西大学生程序设计竞赛金奖</div>\r\n                    <div>2021-6: 队伍获得GXCPC广西大学生程序设计竞赛金奖</div>\r\n                </el-collapse-item>\r\n                <el-collapse-item title=\"程序设计天梯赛\" name=\"4\">\r\n                    <div>2022-5: 队伍获得程序设计天梯赛高校一等奖</div>\r\n                </el-collapse-item>\r\n            </el-collapse>\r\n        </el-dialog>\r\n\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: \"Team\",\r\n        data(){\r\n            return{\r\n                activeNames: [],\r\n                tableData:[],\r\n                dialogFormVisible:false,\r\n                form:{},\r\n                total:0,\r\n                pageNum:1,\r\n                pageSize:5,\r\n                teamname:\"\",\r\n                chart: null, // echarts图表实例\r\n                options:[],\r\n                viewDialogVis:false,\r\n                optionsteacher:[],\r\n\r\n            }\r\n        },created() {\r\n            //请求分页数据\r\n            this.load();\r\n            this.getOptions();\r\n            this.getOptionsteacher()\r\n\r\n        },\r\n\r\n\r\n        methods:{\r\n            handleChange(val) {\r\n                console.log(val);\r\n            },\r\n\r\n            load(){\r\n                this.request.get(\"http://localhost:9090/team/page\",{\r\n                    params:{\r\n                        pageNum: this.pageNum,\r\n                        pageSize:this.pageSize,\r\n                        teamname:this.teamname,\r\n                    }\r\n                }).then(res=>{\r\n                    console.log(res)\r\n                    this.tableData = res.data\r\n                    this.total=res.total\r\n\r\n                })\r\n\r\n            },\r\n\r\n            //获取下拉框中内容\r\n            getOptions(){\r\n\r\n                this.request.get(\"http://localhost:9090/team/stu\")\r\n                    .then(res =>\r\n                    {\r\n                        //请求返回的数据\r\n                        //赋值\r\n                        this.options = res\r\n                        console.log(res)\r\n                    }).catch((error) =>{\r\n                    console.log(error);\r\n                });\r\n            },\r\n            getOptionsteacher(){\r\n\r\n                this.request.get(\"http://localhost:9090/team/teacher\")\r\n                    .then(res =>\r\n                    {\r\n                        //请求返回的数据\r\n                        //赋值\r\n                        this.optionsteacher = res\r\n                        console.log(res)\r\n                    }).catch((error) =>{\r\n                    console.log(error);\r\n                });\r\n            },\r\n\r\n\r\n            handleAdd(){\r\n                this.dialogFormVisible=true\r\n                this.form={}\r\n            },\r\n            handleUpdate(row){\r\n                this.dialogFormVisible=true\r\n                this.form=row\r\n            },\r\n            save(){\r\n                this.request.post(\"http://localhost:9090/team\",this.form).then(res => {\r\n                    if (res) {\r\n                        this.$message.success(\"保存成功\")\r\n                        this.dialogFormVisible = false\r\n                        this.load()\r\n                    } else {\r\n                        this.$message.error(\"保存失败\")\r\n                    }\r\n                })\r\n            },\r\n            del(id){\r\n                this.request.delete(\"http://localhost:9090/team/\"+id).then(res => {\r\n                    if (res) {\r\n                        this.$message.success(\"删除成功\")\r\n                        this.dialogFormVisible = false\r\n                        this.load()\r\n                    } else {\r\n                        this.$message.error(\"删除失败\")\r\n                    }\r\n                })\r\n            },\r\n\r\n            handleSizeChange(pageSize){\r\n                this.pageSize=pageSize\r\n                this.load();\r\n            },\r\n            handleCurrentChange(pageNum){\r\n                this.pageNum=pageNum\r\n                this.load();\r\n            },\r\n            exp(){\r\n                window.open(\"http://localhost:9090/user/export\")\r\n            },\r\n            open(){\r\n                this.$nextTick(() => {\r\n                    //  执行echarts方法\r\n                    this.initCharts()\r\n                })\r\n            },\r\n            view(row) {\r\n\r\n                this.viewDialogVis = true\r\n\r\n            },\r\n\r\n        },\r\n\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAmIA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,SAAA;MACAC,iBAAA;MACAC,IAAA;MACAC,KAAA;MACAC,OAAA;MACAC,QAAA;MACAC,QAAA;MACAC,KAAA;MAAA;MACAC,OAAA;MACAC,aAAA;MACAC,cAAA;IAEA;EACA;EAAAC,QAAA;IACA;IACA,KAAAC,IAAA;IACA,KAAAC,UAAA;IACA,KAAAC,iBAAA;EAEA;EAGAC,OAAA;IACAC,aAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;IACA;IAEAL,KAAA;MACA,KAAAQ,OAAA,CAAAC,GAAA;QACAC,MAAA;UACAlB,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAC,QAAA,OAAAA;QACA;MACA,GAAAiB,IAAA,CAAAC,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA;QACA,KAAAxB,SAAA,GAAAwB,GAAA,CAAA1B,IAAA;QACA,KAAAK,KAAA,GAAAqB,GAAA,CAAArB,KAAA;MAEA;IAEA;IAEA;IACAU,WAAA;MAEA,KAAAO,OAAA,CAAAC,GAAA,mCACAE,IAAA,CAAAC,GAAA,IACA;QACA;QACA;QACA,KAAAhB,OAAA,GAAAgB,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA;MACA,GAAAC,KAAA,CAAAC,KAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,KAAA;MACA;IACA;IACAZ,kBAAA;MAEA,KAAAM,OAAA,CAAAC,GAAA,uCACAE,IAAA,CAAAC,GAAA,IACA;QACA;QACA;QACA,KAAAd,cAAA,GAAAc,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA;MACA,GAAAC,KAAA,CAAAC,KAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,KAAA;MACA;IACA;IAGAC,UAAA;MACA,KAAA1B,iBAAA;MACA,KAAAC,IAAA;IACA;IACA0B,aAAAC,GAAA;MACA,KAAA5B,iBAAA;MACA,KAAAC,IAAA,GAAA2B,GAAA;IACA;IACAC,KAAA;MACA,KAAAV,OAAA,CAAAW,IAAA,oCAAA7B,IAAA,EAAAqB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA;UACA,KAAAQ,QAAA,CAAAC,OAAA;UACA,KAAAhC,iBAAA;UACA,KAAAW,IAAA;QACA;UACA,KAAAoB,QAAA,CAAAN,KAAA;QACA;MACA;IACA;IACAQ,IAAAC,EAAA;MACA,KAAAf,OAAA,CAAAgB,MAAA,iCAAAD,EAAA,EAAAZ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA;UACA,KAAAQ,QAAA,CAAAC,OAAA;UACA,KAAAhC,iBAAA;UACA,KAAAW,IAAA;QACA;UACA,KAAAoB,QAAA,CAAAN,KAAA;QACA;MACA;IACA;IAEAW,iBAAAhC,QAAA;MACA,KAAAA,QAAA,GAAAA,QAAA;MACA,KAAAO,IAAA;IACA;IACA0B,oBAAAlC,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;MACA,KAAAQ,IAAA;IACA;IACA2B,IAAA;MACAC,MAAA,CAAAC,IAAA;IACA;IACAA,KAAA;MACA,KAAAC,SAAA;QACA;QACA,KAAAC,UAAA;MACA;IACA;IACAC,KAAAf,GAAA;MAEA,KAAApB,aAAA;IAEA;EAEA;AAGA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}